test {
	// Rearrange test classpath, add compiled JAR instead of main classes directory
	classpath = project.sourceSets.test.output + configurations.testRuntimeClasspath + files(jar.archiveFile)
	
	// Select testing framework
	useTestNG()
	
	// Setup logging
	testLogging {
		exceptionFormat "full"
		events "skipped", "failed"
	}
}

// Print Java runtime version during deliverable verification
check {
	doFirst {
		println "${System.properties['java.runtime.version']} (${System.properties['java.runtime.name']})"
	}
}

// Setup jacoco task, reports should be generated in XML format, which is required for codecov task
jacocoTestReport {
	reports {
		xml.enabled = true
    }
}