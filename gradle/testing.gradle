test {
	
	// Rearrange test classpath, add compiled JAR instead of main classes
	classpath = project.sourceSets.test.output + configurations.testRuntimeClasspath + files(jar.archiveFile)
	
	useTestNG()
	
	testLogging {
		exceptionFormat "full"
		events "skipped", "failed"
	}
}

check {
	doFirst {
		println "${System.properties['java.runtime.version']} (${System.properties['java.runtime.name']})"
	}
}

jacocoTestReport {
	reports {
		
		// For coveralls task jacoco xml report should be turned on
		xml.enabled = true
    }
}